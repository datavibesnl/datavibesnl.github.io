"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3175],{3258:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var n=i(4848),t=i(8453);const a={},r="2.8 Views",l={id:"Databricks Certified Data Engineer Associate - Preparation/Databricks Lakehouse Platform/2.8 Views",title:"2.8 Views",description:"- [ ] In this video, we will talk about the views in Databricks",source:"@site/docs/Databricks Certified Data Engineer Associate - Preparation/2. Databricks Lakehouse Platform/2.8 Views.md",sourceDirName:"Databricks Certified Data Engineer Associate - Preparation/2. Databricks Lakehouse Platform",slug:"/Databricks Certified Data Engineer Associate - Preparation/Databricks Lakehouse Platform/2.8 Views",permalink:"/docs/Databricks Certified Data Engineer Associate - Preparation/Databricks Lakehouse Platform/2.8 Views",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Databricks Certified Data Engineer Associate - Preparation/2. Databricks Lakehouse Platform/2.8 Views.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"2.7 Set Up Delta Tables",permalink:"/docs/Databricks Certified Data Engineer Associate - Preparation/Databricks Lakehouse Platform/2.7 Set Up Delta Tables"},next:{title:"2.9 Working with Views (HandsOn)",permalink:"/docs/Databricks Certified Data Engineer Associate - Preparation/Databricks Lakehouse Platform/2.9 Working with Views (HandsOn)"}},c={},d=[{value:"Types of Views",id:"types-of-views",level:2},{value:"Comparison between views",id:"comparison-between-views",level:2}];function o(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"28-views",children:"2.8 Views"}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","In this video, we will talk about the views in Databricks",(0,n.jsx)("br",{})]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","You'll understand what is a view in Databricks and how to work with it. In addition, we will explain the different types of views",(0,n.jsx)("br",{})]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","A view in Databricks is a virtual table that has no physical data"]}),"\n",(0,n.jsx)(s.admonition,{type:"info",children:(0,n.jsx)(s.p,{children:"In fact, it is just a saved SQL query against actual tables. This query is executed each time a view is queried"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"types-of-views",children:"Types of Views"}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","There are three types of views in Databricks"]}),"\n"]}),"\n",(0,n.jsxs)(s.ol,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Stored Views"})}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Like tables stored views are presented in the database"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:["To define a view, we use the ",(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"CREATE VIEW"})})," statement with the ",(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"AS"})})," keyword followed by your SQL query"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:["Once created, you can query your view with a standard ",(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"SELECT"})})," statement, just as if it were a table"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.admonition,{type:"info",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sql",children:"CREATE VIEW view_name\nAS query\n"})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Temporary Views"})}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Temporary view is tied to a Spark session, so it dropped when the session ends",(0,n.jsx)("br",{})]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","To create a temporary view, we simply add ",(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"TEMP"})})," or ",(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"TEMPORARY"})})," keyword to ",(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"CREATE VIEW"})})," command"]}),"\n",(0,n.jsx)(s.admonition,{type:"info",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sql",children:"CREATE TEMP VIEW view_name\nAS query\n"})})}),"\n"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","When a ",(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"SparkSession"})})," is created in Databricks",(0,n.jsx)("br",{})]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","There are several scenarios in which a new Spark session is created"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.admonition,{type:"info",children:(0,n.jsx)(s.p,{children:"For example, when opening a new notebook, a new session is created. Also, when detaching and reattaching a notebook to a cluster. And after installing a Python package, which lead to restarting the Python interpreter. Or simply after restarting the cluster."})}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Global Temporary Views"})}),"\n",(0,n.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","It behaves much like other views, but differs in one important way. It is tied to the cluster",(0,n.jsx)("br",{})]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","As long as the cluster is running, any notebook attached to the cluster can access its global temporary views",(0,n.jsx)("br",{})]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","To define a global temporary view, we simply add ",(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"GLOBAL TEMP"})})," to the command",(0,n.jsx)("br",{})]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Global temporary views are added to a cluster's temporary database called ",(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"global_temp"})})]}),"\n",(0,n.jsx)(s.admonition,{type:"info",children:(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-sql",children:"CREATE GLOBAL TEMP VIEW view_nameAS query\n\nSELECT * FROM global_temp.view_name\n"})})}),"\n"]}),"\n",(0,n.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.input,{type:"checkbox",disabled:!0})," ","When you query this view in a SELECT statement, you need to use the global_temp database qualifier"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"comparison-between-views",children:"Comparison between views"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"(Stored) Views"}),(0,n.jsx)(s.th,{children:"Temp Views"}),(0,n.jsx)(s.th,{children:"Global Temp Views"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"Persisted in DB"}),(0,n.jsx)(s.td,{children:"Session-scoped"}),(0,n.jsx)(s.td,{children:"Cluster-scoped"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsxs)(s.td,{children:["Dropped only by ",(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"DROP VIEW"})})]}),(0,n.jsx)(s.td,{children:"Dropped when session ends"}),(0,n.jsx)(s.td,{children:"Dropped when cluster restarted"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"CREATE VIEW"})})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"CREATE TEMP VIEW"})})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"CREATE GLOBAL TEMP VIEW"})})})]})]})]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},8453:(e,s,i)=>{i.d(s,{R:()=>r,x:()=>l});var n=i(6540);const t={},a=n.createContext(t);function r(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),n.createElement(a.Provider,{value:s},e.children)}}}]);